//контроль уже введенных позиций
Функция КонтрольЗадвоенийМнемоКода(НовыйМнемоКод,ТекСсылкаВешь) Экспорт
	
	Если НовыйМнемоКод="" Тогда
		Возврат Ложь;
	КонецЕсли;
	
	Запрос=Новый Запрос;
	Запрос.Текст="ВЫБРАТЬ
	             |	Вещи.МнемоКод КАК МнемоКод,
	             |	Вещи.Наименование КАК УказательЭлемента
	             |ИЗ
	             |	Справочник.Вещи КАК Вещи
	             |ГДЕ
	             |	Вещи.Ссылка <> &ТекСсылкаВешь
	             |
	             |ОБЪЕДИНИТЬ ВСЕ
	             |
	             |ВЫБРАТЬ
	             |	ЗаменыПриВыдаче.ЗаменаМнемоКод,
	             |	ЗаменыПриВыдаче.Вешь.Наименование + "" \ "" + ЗаменыПриВыдаче.НаименованиеЗамены
	             |ИЗ
	             |	РегистрСведений.ЗаменыПриВыдаче КАК ЗаменыПриВыдаче
	             |
	             |УПОРЯДОЧИТЬ ПО
	             |	МнемоКод";
	Запрос.УстановитьПараметр("ТекСсылкаВешь",ТекСсылкаВешь);
	Выборка=Запрос.Выполнить().Выбрать();
	
	ЕстьПовторы=Ложь;
	Пока Выборка.Следующий() Цикл
		Если НЕ СтрЧислоВхождений(Выборка.МнемоКод,НовыйМнемоКод)=0 Тогда
			ЕстьПовторы=Истина;
			Сообщить("уже есть подобные данные по: "+СокрЛП(Выборка.УказательЭлемента));
		КонецЕсли;
	КонецЦикла;
	
	Возврат ЕстьПовторы;
	
КонецФункции
